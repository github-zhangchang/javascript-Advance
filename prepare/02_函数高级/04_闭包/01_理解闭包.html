<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>01_理解闭包</title>
</head>
<body>
<!--
1. 如何产生闭包?
  * 当一个嵌套的内部(子)函数引用了嵌套的外部(父)函数的变量(函数)时, 就产生了闭包
2. 闭包到底是什么?
  * 使用chrome调试查看
  * 理解一: 闭包是嵌套的内部函数(绝大部分人)
  * 理解二: 包含被引用变量(函数)的对象(极少数人)
  * 注意: 闭包存在于嵌套的内部函数中
3. 产生闭包的条件?
  * 函数嵌套
  * 内部函数引用了外部函数的数据(变量/函数)
-->
<script type="text/javascript">
  /*function fn1 () {
    var a = 3
    function fn2 (a) {
      console.log(a)  //注意：此时 a 保存在闭包对象中（不是真实的js对象，只是内存中的一块区域）
        return this
    }
    return fn2()
  }
  var f = fn1()
  console.log(f);*/

  function fn1 (a, b) {
      console.log(b);
      return {
          fn2:function (m) {
              return fn1(m, a)
          }
      }
  }

  console.log(fn1(1).fn2(2));

</script>
</body>
</html>